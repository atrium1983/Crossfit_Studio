# Дипломный проект

## Разработка REST API приложения "CrossFit Studio" (серверная часть) по созданию и управлению групповыми тренировками в спортивной студии, проводящей кроссфит тренировки

Задачи, которые решает приложение
1. Бронирование тренировки
Тренировки доступны для бронирования на текущий и завтрашний день. Клиент не может забронировать более одной тренировки на один день и, соответственно, одну и ту же тренировку более одного раза. В случае, если лимит бронирований на определенную тренировку исчерпан, клиент может встать в лист ожидания. При отмене подтвержденного бронирования тренировки, подтверждается первое бронирование с листа ожидания, при его наличии. Кроме этого, администраторы могут подтверждать бронирования с листа ожидания сверх установленного лимита тренировки вне очереди. Тренеры и администраторы, как и клиенты, также могут заниматься в кроссфит-студии и, следовательно, создавать и управлять своими бронированиями.
2. Отмена тренировки
Пользователь может отменить ранее забронированную тренировку. Ограничений по времени нет. Отменить бронирование после начала тренировки пользователь не может.
3. Аккаунты пользователей
Аккаунт каждого пользователя содержит следующую информацию:
•	id
•	имя
•	фамилия
•	дата рождения
•	адрес электронной почты
•	логин
•	пароль
•	история бронирований тренировок
•	уровень доступа к функционалу приложения
Создавать новые аккаунты могут только администраторы. Остальные пользователи могут менять следующие данные собственных аккаунтов:
•	адрес электронной почты
•	логин
•	пароль
Администраторы также обладают правами на изменение любых данных аккаунта пользователя и только они могут удалять аккаунты.
4. Расписание тренировок и план
За создание и модификацию каждой тренировки отвечают администраторы и тренеры. Тренеры могут вносить корректировки в план тренировок.
5. Уведомления по электронной почте
Пользователь получает уведомления по электронной почте в следующих случаях:
•	подтверждение бронирования тренировки
•	подтверждение в статусе ожидания (лист ожидания)
•	подтверждение бронирования с листа ожидания
•	изменение данных аккаунта (адрес электронной почты, логин, пароль)
•	отмена бронирования
•	напоминание о начале тренировки за 1 час до её начала
6. Безопасность
Доступ к приложению имеют только авторизованные пользователи. Авторизация выполняется отдельным запросом с передачей логина и пароля. При успешной авторизации приложение генерирует и возвращает токен. Валидация остальных запросов осуществляется по токену. Пароли хранятся в БД в хешированном виде. Пользователи имеют разный уровень доступа к функционалу. Краткое описание доступа:
•	Клиент (СUSTOMER) – ограниченное управление своим аккаунтом (изменение адреса электронной почты, логина, пароля), создание и отмена бронирований тренировок. Просмотр любых тренировок (дата и время тренировки, программа тренировки, клиенты, забронировавшие данную тренировку)
•	Тренер (TRAINER) – те же функции, что и у клиента, плюс - изменение программы тренировок
•	Администратор (ADMIN) – неограниченный доступ ко всем функциям
7. Задачи приложения, выполняемые автоматически по расписанию
Приложение выполняет следующие задачи по расписанию без участия пользователей:
•	пользователи, забронировавшие тренировку и имеющие подтвержденное бронирование, получают напоминание по электронной почте за 1 час до начала тренировки
•	после начала тренировки доступ к возможности бронирования приостанавливается, подтвержденные бронирования меняют статус на выполненные, а бронирования в листе ожидания аннулируются
